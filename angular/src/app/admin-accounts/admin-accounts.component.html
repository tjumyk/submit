<app-error-message [error]="error"></app-error-message>
<app-success-message [success]="success"></app-success-message>

<div class="ui grid two column stackable">
  <div class="column">
    <div class="ui active text loader inline centered" *ngIf="loadingUsers">Loading users...</div>
    <div *ngIf="users">
      <div class="ui top attached clearing segment">
        <div class="ui left floated header">
          <i class="icon user"></i> Synced Users
        </div>
        <div class="ui right floated header">
          <a class="ui button small primary" (click)="syncUsers()" [ngClass]="{'loading disabled': syncingUsers}">
            <i class="icon sync"></i> Sync Users
          </a>
        </div>
      </div>
      <table class="ui compact unstackable bottom attached table celled">
        <thead><tr><th>ID</th><th>Name</th><th>E-mail</th><th>Nickname</th><th>Ops</th></tr></thead>
        <tbody>
        <tr *ngFor="let user of users; index as i">
          <td>{{ user.id }}</td>
          <td>{{ user.name }}</td>
          <td>{{ user.email }}</td>
          <td>{{ user.nickname }}</td>
          <td>
            <div class="ui small buttons">
              <a target="_blank" href="admin/users/{{ user.id }}" class="ui button icon"><i class="icon edit"></i></a>
              <a #btnDeleteUser class="ui button icon red" (click)="deleteUser(user, i, btnDeleteUser)"><i class="icon trash"></i></a>
            </div>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="column">
    <div class="ui active text loader inline centered" *ngIf="loadingGroups">Loading groups...</div>
    <div *ngIf="groups">
      <div class="ui top attached clearing segment">
        <div class="ui left floated header">
          <i class="icon users"></i> Synced Groups
        </div>
        <div class="ui right floated header">
          <a class="ui button small primary" (click)="syncGroups()" [ngClass]="{'loading disabled': syncingGroups}">
            <i class="icon sync"></i> Sync Groups
          </a>
        </div>
      </div>
      <table class="ui compact unstackable bottom attached table celled">
        <thead><tr><th>ID</th><th>Name</th><th>Description</th><th>Ops</th></tr></thead>
        <tbody>
        <tr *ngFor="let group of groups; index as i">
          <td>{{ group.id }}</td>
          <td>{{ group.name }}</td>
          <td>{{ group.description }}</td>
          <td>
            <div class="ui small buttons">
              <a target="_blank" href="admin/groups/{{ group.id }}" class="ui button icon"><i class="icon edit"></i></a>
              <a #btnDeleteGroup class="ui button icon red" (click)="deleteGroup(group, i, btnDeleteGroup)"><i class="icon trash"></i></a>
            </div>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
