<div class="ui list horizontal">
  <div class="item">
    <div class="header">ID</div>
    {{test.id}}
  </div>
  <div class="item">
    <div class="header">Config</div>
    <span *ngIf="config; else noConfigData">{{config.name}}</span>
    <ng-template #noConfigData>(ID: {{test.config_id}})</ng-template>
  </div>
  <div class="item">
    <div class="header">Worker</div>
    <span *ngIf="test.hostname; else noWorker">{{test.hostname}}</span>
    <ng-template #noWorker>(None)</ng-template>
  </div>
  <div class="item">
    <div class="header">State</div>
    <span [ngStyle]="{'color': getStatusColor(test.final_state || test.state)}">
      {{test.final_state || test.state}}
    </span>
  </div>
</div>

<div class="ui list horizontal">
  <div class="item">
    <div class="header">Created At</div>
    {{test.created_at | date: 'medium'}}
  </div>
  <div class="item">
    <div class="header">Started At</div>
    <span *ngIf="test.started_at; else noStartTime">{{test.started_at | date: 'medium'}}</span>
    <ng-template #noStartTime>N/A</ng-template>
  </div>
  <div class="item">
    <div class="header">Stopped At</div>
    <span *ngIf="test.stopped_at; else noStopTime">{{test.stopped_at | date: 'medium'}}</span>
    <ng-template #noStopTime>N/A</ng-template>
  </div>
  <div class="item">
    <div class="header">Duration</div>
    <span *ngIf="test.started_at && test.stopped_at; else noDuration">{{computeDuration(test.started_at, test.stopped_at)}}</span>
    <ng-template #noDuration>N/A</ng-template>
  </div>
</div>

<ng-container *ngIf="(test.final_state || test.state) == 'FAILURE' || (test.final_state || test.state) == 'SUCCESS'">
  <div *ngIf="test.exception_class">
    <div class="ui divider horizontal">Exception</div>
    <p><b>{{test.exception_class}}</b> {{test.exception_message}}</p>
  </div>
  <div *ngIf="test.result != null">
    <div class="ui divider horizontal">Result</div>
    <ng-container
      *ngIf="config && config.result_render_html && extractConclusion(test, config) != null; else noHTMLRender">
      <div [innerHTML]="renderResultHTML(test, config)"></div>
    </ng-container>
    <ng-template #noHTMLRender>
      <pre class="code">{{test.result|json}}</pre>
    </ng-template>
  </div>
</ng-container>
